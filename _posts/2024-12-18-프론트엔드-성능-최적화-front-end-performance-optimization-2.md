---
layout: post
title: 프론트엔드 성능 최적화(Front-End Performance Optimization)-2
date: '2024-12-18 16:07:21 +0900'
category: [프론트엔드]
tags: [최적화,lighthouse]
math: true
---

# 성능 최적화
이번 포스트에서는 실제로 사용할 수 있는 성능 최적화 방법들을 알아보자.

이전 포스트에서 성능 최적화를 크게 두가지로 분류한다고 정리했었다.

1. **로딩 성능 최적화**
  - **클라이언트가 서버로부터 웹 페이지, 필요한 기타 리소스를 다운로드할 때의 성능**.(ex. HTML, JS, CSS, 기타 이미지, 폰트 파일, ...)
  - 만약 JS 파일이나 이미지, 폰트 파일의 크기가 크면 인터넷 속도가 느린 경우 그만큼 웹 페이지 로딩이 느려지고, 사용자가 화면을 보기위한 시간이 느려진다.
  - JS 파일의 경우는 목적에 따라서 코드를 분할하고(code splitting), 이미지 파일이나 폰트 파일 등은 개수를 줄이거나 크기를 줄이거나 필요한 시점에 로딩하는 최적화 방식들이 존재한다.
  - 그 외에도 리소스들의 우선순위를 정해 중요한 리소스 먼저 다운로드하도록 설정하는 방식이 존재한다.
2. **렌더링 성능 최적화**
  - 로딩 과정이 끝난 후 **다운로드된 리소스로 화면을 그리는 과정의 성능**. 코드를 실행하여 화면에 보여 주는 과정으로 자바스크립트 코드가 가장 큰 영향을 미친다.
  - 코드를 얼마나 잘 작성했는지에 따라 화면이 그려지는 속도와 사용자 인터랙션의 자연스러움이 달라진다.
  - 렌더링 성능의 치적화를 위해서는 자신의 서비스의 유형과 프레임워크, 브라우저의 동작 원리 등의 개발 지식이 필요하다.

이 두가지 관점에서 내 프로젝트엔 어떤 최적화를 적용할 수 있는지 알아보고 결과를 살펴보자.

## 성능 측정 도구
최적화를 적용한 전/후로 성능의 변화를 측정하기 위해선 성능 측정 도구가 먼저 필요하다.

1. **크롬 개발자 도구** : 브라우저에서 제공하는 도구로, f12 를 눌러서 열 수 있다. 여러가지 패널을 제공하는데, 그 중 성능 측정과 관련된 패널들이 있다.
  - **Network** : 현재 페이지에서 발생하는 모든 네트워크 트래픽의 상세 정보를 볼 수 있다. 각 리소스의 로딩 시점, 크기 등을 확인할 수 있다.<br>
  ![chrome devtools network panel](/assets/img/captures/1_chrome_devtool_network.png){: width='700' .normal }_네이버 메인페이지_
  - **Performance** : 현재 페이지가 로드될 때 실행되는 모든 작업을 보여준다. 리소스의 로드와 크기 뿐 아니라, 브라우저 메인 쓰레드에서 실행되는 자바스크립트도 차트 형태로 볼 수 있다. 이를 통해 느리게 실행되는 자바스크립트 코드도 확인 가능하다.<br>
  ![chrome devtools performance panel](/assets/img/captures/2_chrome_devtool_performance.png){: width='700' .normal }_네이버 메인페이지_
  - **Lighthouse** : 구글에서 만들어진 툴로 웹 사이트의 성능을 측정하고 개선 방안을 제시해 주며, 원래는 별도로 설치했지만 현재는 개발자 도구의 한 패널로 포함되었다.<br>
  ![chrome devtools lighthouse panel](/assets/img/captures/3_chrome_devtool_lighthouse.png){: width='700' .normal }_네이버 메인페이지_
2. **번들 분석 패키지** : 웹 어플리케이션의 빌드에서 번들링된 파일이 어떤 라이브러리를 포함하는지 시각화 해주는 패키지.
  - **webpack-bundle-analyzer** : 웹팩을 통해 번들링된 프로젝트를 확인
  - **rollup-plugin-visualizer** : 롤업을 통해 번들링된 프로젝트를 확인(vite, sveltekit 등을 지원)